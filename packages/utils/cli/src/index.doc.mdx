import { Meta } from '@storybook/blocks'

<Meta title="utils/CLI" />

# CLI utils

This package provides some CLI commands to improve the development experience when building the Spark design system. Right now there are some different commands available:

- A command for generating new components: `$ spark generate`.

## Contents

- [Installation](#installation)
- [Generating a new package](#generating-a-new-package)

## Installation

CLI utils can be used by installing the package `@spark-ui/cli-utils` in your project:

```bash
$ npm install --save-dev @spark-ui/cli-utils
```

or just by running the following command:

```bash
$ npx spark COMMAND_NAME
```

## Generating a new package

In order to generate a new package, the following command has to be executed:

```bash
$ spark generate
```

Then, a command prompt will guide you through the process by asking you for:

- the package name (required),
- the template used (required, only `Component` template available right now)
- and the package description (optional).

## Scanning directory adoption

For viewing the adoption of packages in a project directory, the following command can be executed:

```bash
$ spark scan adoption
```

### Options

#### Configuration

```bash
$ spark scan adoption --configuration <filename>
```

alias

```bash
$ spark scan adoption -c <filename>
```

example
example

```bash
spark scan adoption -c "./spark-ui.cjs"
````


### configuration filename structure

 ```js
 // .spark-ui.cjs
module.exports = {
  adoption: {
    details: true,
    alpha: false,
    imports: ['@spark-ui'],
    extensions: ['.tsx', '.ts'],
    directory: './packages',
  },
}
 `

- `details` (boolean) - whether to show the details of the adoption or not. Default: false
- `alpha` (boolean) - packages are sorted alphabetically. Default: false means sorted by adoption number
- `imports` (array) - the imports to be scanned.
- `extensions` (array) - the extensions to be scanned
- `directory` (string) - the directory to be scanned. Default: '.' means the current directory
```

#### Output
The output option is used to save the adoption data to a file. It is optional

```bash
$ spark scan adoption --output <filename>
```
 alias

```bash
$ spark scan adoption -o <filename>
```

example

```bash
spark scan adoption -o "./adoption.$(date +"%Y%m%d_%H:%M:%S").json"
````