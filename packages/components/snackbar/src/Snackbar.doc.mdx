import { Meta, Canvas } from '@storybook/addon-docs'
import { ArgTypes } from '@docs/helpers/ArgTypes'
import { Source } from '@storybook/blocks'

import { Snackbar, addSnackbar } from '.'

import * as stories from './Snackbar.stories'

<Meta of={stories} />

# Snackbar

Display brief, temporary notifications of actions, errors, or other events in an application.

## Install

```sh
npm install @spark-ui/snackbar
```

## Import

```tsx
import { Snackbar, addSnackbar } from '@spark-ui/snackbar'
```

## Props & Options

<ArgTypes
  of={Snackbar}
  description="A container for queued snackbars. It should be placed at the root of the app."
  exclude={['position', 'priority']}
  subcomponents={{
    'Snackbar.Item': {
      of: Snackbar.Item,
      description: "The component that display each snackbar's content.",
    },
    addSnackbar: {
      of: addSnackbar,
      description: 'The function that triggers snackbars by adding them to a global queue.',
    },
  }}
/>

## Usage

### Default

First you'll need to render a `<Snackbar />` Component, that will be in charge of global snackbar queue and state.
Then you'll simply have to queue a snackbar from anywhere in the app with `addSnackbar` function.

<Canvas of={stories.Default} />

### Design

Use `design` prop on snackbar item, or as `addSnackbar` option, to set different look and feels.

<Canvas of={stories.Design} />

### Intent

Use `intent` prop on snackbar item, or as `addSnackbar` option, to set color intent.

<Canvas of={stories.Intent} />

### Icon

Use `icon` prop on snackbar item to add an icon before message.

<Canvas of={stories.Icon} />

### Dismiss

**To dismiss snackbar automatically** use `timeout` option. For accessibility reasons the value of this timeout shouldn't be less than 5 seconds.

**To allow the user to close by himself the snackbar** thanks to a dedicated close button, use `isClosable` prop on snackbar item, or as `addSnackbar` option.

For both cases there is a specific `onClose` handler which is called when snackbar closes.

<Canvas of={stories.Close} />
